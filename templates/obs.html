<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OBS Stats</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
  </head>
  <body>
    {% if stats %}
    <div class="stats">
      <div class="stat">{{ stats.nickname }}</div>
      <div class="stat">elo: {{ stats.elo }}</div>
      <div class="stat">avg: {{ stats.avg_kills }}</div>
    </div>
    <div class="stats">
      <div class="stat">k/d: {{ stats.kd_ratio }}</div>
      <div class="stat">hs: {{ stats.hs_percentage }}%</div>
    </div>
    <div class="stats">
      <div class="stat">
        rank
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 16"
          width="28"
          height="18"
        >
          <path
            d="M21.82 0H2.18C.977 0 0 .97 0 2.166v11.668C0 15.03.976 16 2.18 16h19.64c1.204 0 2.18-.97 2.18-2.166V2.166A2.173 2.173 0 0 0 21.82 0z"
            fill="#4A88DC"
          ></path>
          <path
            d="M14.956 8.504c.077.068.148.143.21.225.138.21.265.429.38.654.287.48.714.864 1.224 1.1a.685.685 0 0 1 .271.173c.175.221-.02.545-.254.705-.233.16-.524.279-.63.541-.028.068-.045.147-.11.184-.066.037-.22-.04-.261-.146a.883.883 0 0 0-.134-.307.324.324 0 0 0-.377-.027.837.837 0 0 0-.274.29c-.206.26-.31.585-.295.915a.601.601 0 0 1 0 .314c-.134.32-.792.05-.902.381-.069.208.182.586 0 .627-.274.068-.538-.467-.72-.787a3.933 3.933 0 0 0-1.471-1.46.166.166 0 0 0-.151-.028c-.069.034-.058.133-.03.204.13.359.37.668.685.886.135.09.252.205.343.34.54.712.052.326 0 .47-.068.155-.188.234-.357.259-.182.034-.476.027-.476-.153.058-.198.428-.031.552-.198.123-.167-.1-.31-.264-.392a2.342 2.342 0 0 1-.786-.626c-.1-.123-.202-.266-.343-.303-.253-.058-.5.208-.754.143a.66.66 0 0 0-.168-.044c-.199 0-.202.3-.315.463-.114.163-.343.184-.453.34-.11.157-.1.34-.158.524a.83.83 0 0 1-.713.501 2.459 2.459 0 0 1-.909-.133.312.312 0 0 1-.24-.14.308.308 0 0 1-.03-.275l.085-1.178c0-.113.03-.245.134-.293a.305.305 0 0 1 .171 0c.186.026.368.079.539.157a.71.71 0 0 0 .452.112c.247-.065.299-.412.189-.644-.11-.231-.322-.398-.443-.623a.366.366 0 0 1-.054-.194c0-.163.188-.262.343-.293.164-.008.326-.047.476-.115.137-.089.198-.73.05-.794-.058-.024-.299-.398-.299-.398-.165.02-.58.213-.735.272a.428.428 0 0 1-.244.045c-.613-.324-.147-.317-.449-.317-.181 0-.25.252-.418.317-.141.036-.343-.17-.343-.17.125-.501-.052-.512 0-.644.1-.28.305-.276.573-.405a.322.322 0 0 0 .164-.12c.045-.085 0-.184-.04-.275a.602.602 0 0 1 0-.453c.075-.16.205-.26.342-.514a.616.616 0 0 1 .171-.246.296.296 0 0 1 .405.062.46.46 0 0 1 .041.258l-.027.8a.575.575 0 0 0 .024.225c.035.075.085.14.147.194.295.23.272.336.316.705 0 .153.182.664.679.875.298.034.49-.5.638-.68a.797.797 0 0 1 .63-.341c.076-.002-.063-.728.023-.724.04.002.128-.136.2 0 0 0 .161 0 .077.21.036.134.065.322.084.324.543.052 1.18.394 1.715.357a.498.498 0 0 0 .394-.205c.134-.21 0-.497.08-.735.087-.193.223-.36.394-.487a.556.556 0 0 0 .205-.558c-.054-.137-.192-.218-.294-.32a.932.932 0 0 1-.223-.814c.062-.287.199-.553.397-.77.144-.134.253-.3.32-.483.044-.191-.086-.433-.282-.42a.342.342 0 0 0-.274.243c-.048.119-.059.248-.1.37-.123.26-.3.493-.517.682a.875.875 0 0 0-.292.762c.027.106.086.198.12.3.047.228.028.464-.055.681a2.109 2.109 0 0 1-.596 1.14c-.09.069-.216.127-.309.062a.286.286 0 0 1-.09-.13c-.112-.261-.147-1.167-.572-1.164-.22 0-.343.3-.555.317-.165 0-.295-.14-.367-.29a1.406 1.406 0 0 1 .295-1.668c.144-.157.548-.429.686-.579.507-.507.466-1.277.819-1.9.27-.476.624-.899 1.046-1.25.26-.233.571-.404.909-.5.342-.095.71-.03.997.177a.547.547 0 0 1 .268.463c-.041.273-.37.473-.312.742.026.08.064.156.113.225a.9.9 0 0 1 .075.681.847.847 0 0 0 0 .538l.443 1.158c.05.106.074.223.072.34a.953.953 0 0 1-.323.497 2.057 2.057 0 0 0-.497 1.659c.079.19.186.367.32.524z"
            fill="#fff"
          ></path></svg
        >:
      </div>
      <div class="stat rank_stat">
        <div id="player_rank" class="hidden" data-rank="{{ stats.rank }}">
          #{{ stats.rank }}
        </div>
      </div>
      <div class="ifnottop1000"></div>

      <div id="iftop1000" class="iftop1000 hidden">
        <div
          class="BadgeHolder__Holder-sc-35599fed-0 BadgeHolder__DefaultRank-sc-35599fed-4 jeOBZZ elJTcM"
          data-testid="rankBadge"
        >
          <span
            class="Text-sc-67635c04-0 RankBadge__StyledText-sc-3a53d8df-0 jOYygD djHqlX"
            >#{{ stats.rank }}</span
          ><i
            class="Icon__Holder-sc-560359e-0 cFkIBN styles__Icon-sc-44d754f8-0 gdqhhT"
            ><svg
              viewBox="0 0 24 24"
              fill="#e80128"
              xmlns="http://www.w3.org/2000/svg"
              height="18"
              width="18"
              class="Icon__StyledISvg-sc-560359e-1 jDnejp"
            >
              <g clip-path="url(#clip0_7619_6076__quBcDJAA)">
                <path
                  d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12"
                  fill="#121212"
                ></path>
                <path
                  d="M7.042 6.773a10 10 0 00-1.297-.375l-.008-.008c-.15-.442-.255-.885-.352-1.365a9.5 9.5 0 012.1-1.515 10 10 0 00-.023 1.41c.405.21.803.458 1.155.713-.57.307-1.102.69-1.575 1.14m11.213-.375c.15-.443.255-.885.353-1.365a9.5 9.5 0 00-2.1-1.515c.037.487.052.945.022 1.41-.405.21-.795.457-1.155.712a7 7 0 011.575 1.14c.413-.15.855-.285 1.297-.375zM20.85 8.28c-.27.39-.555.758-.87 1.103-.442-.09-.9-.15-1.343-.173a7.2 7.2 0 00-.99-1.672 9 9 0 011.343-.195c.21-.413.383-.84.54-1.298.54.683.982 1.433 1.32 2.235m-.487 4.53a11 11 0 001.237-.667 9.6 9.6 0 00-.308-2.573q-.482.529-1.02.968a9 9 0 00-1.304-.368c.165.63.24 1.283.232 1.935q.587.304 1.163.698zm.36 3.18a10 10 0 01-1.388.113 9 9 0 00-.788-1.11 7 7 0 00.555-1.86c.368.255.728.54 1.05.855a8 8 0 001.32-.48 9.3 9.3 0 01-.75 2.482zm-2.333 3.173c-.458-.12-.9-.278-1.328-.465v.007a8 8 0 00-.27-1.327c.503-.42.908-.938 1.268-1.478.247.39.427.78.615 1.208.45.052.937.104 1.402.09-.48.72-1.027 1.402-1.687 1.965M7.207 17.37a8 8 0 00-.27 1.328v-.008q-.641.284-1.327.465c-.66-.563-1.208-1.245-1.688-1.965.465.015.953-.03 1.403-.09.187-.428.367-.818.615-1.208.36.54.772 1.058 1.267 1.478m-2.535-1.267c.233-.39.51-.773.788-1.11a6.5 6.5 0 01-.555-1.86 8 8 0 00-1.05.855 9 9 0 01-1.32-.48c.12.862.39 1.695.75 2.482.477.067.925.112 1.387.113m.128-3.99c-.382.195-.772.435-1.162.697v.008A13 13 0 012.4 12.15a9.6 9.6 0 01.308-2.572q.482.529 1.02.967c.427-.157.87-.277 1.305-.367a7 7 0 00-.233 1.935m-.78-2.73c.442-.098.9-.15 1.342-.173a7.2 7.2 0 01.99-1.672 10 10 0 00-1.342-.195 10 10 0 01-.54-1.298A9.6 9.6 0 003.15 8.28c.27.398.555.765.87 1.103m9.02 11.536l1.345.52-.27.699L12 21.321l-2.115.817-.27-.7 1.345-.52L7.807 19.7l.27-.7L12 20.517 15.923 19l.27.7zm2.004-12.781c.033-.05.114-.033.114.033v6.76c0 .033-.098.082-.146.066-.663-.26-1.49-.588-2.391-.945a586 586 0 00-6.041-2.37c-.066-.032-.033-.131.048-.131h6.251c.379-.623.8-1.28 1.402-2.22z"
                ></path>
              </g></svg
          ></i>
        </div>
      </div>

      <div id="iftop1" class="iftop1 hidden">
        <div
          class="BadgeHolder__Holder-sc-35599fed-0 BadgeHolder__DefaultRank-sc-35599fed-4 jeOBZZ iftop1_background"
          data-testid="rankBadge"
        >
          <span
            class="Text-sc-67635c04-0 RankBadge__StyledText-sc-3a53d8df-0 jOYygD djHqlX"
            >#{{ stats.rank }}</span
          ><i
            class="Icon__Holder-sc-560359e-0 cFkIBN styles__Icon-sc-44d754f8-0 gdqhhT"
            ><svg
              viewBox="0 0 24 24"
              fill="#e80128"
              xmlns="http://www.w3.org/2000/svg"
              height="18"
              width="18"
              class="Icon__StyledISvg-sc-560359e-1 jDnejp"
            >
              <g clip-path="url(#clip0_7619_6076__quBcDJAA)">
                <path
                  d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12"
                  fill="#121212"
                ></path>
                <path
                  d="M7.042 6.773a10 10 0 00-1.297-.375l-.008-.008c-.15-.442-.255-.885-.352-1.365a9.5 9.5 0 012.1-1.515 10 10 0 00-.023 1.41c.405.21.803.458 1.155.713-.57.307-1.102.69-1.575 1.14m11.213-.375c.15-.443.255-.885.353-1.365a9.5 9.5 0 00-2.1-1.515c.037.487.052.945.022 1.41-.405.21-.795.457-1.155.712a7 7 0 011.575 1.14c.413-.15.855-.285 1.297-.375zM20.85 8.28c-.27.39-.555.758-.87 1.103-.442-.09-.9-.15-1.343-.173a7.2 7.2 0 00-.99-1.672 9 9 0 011.343-.195c.21-.413.383-.84.54-1.298.54.683.982 1.433 1.32 2.235m-.487 4.53a11 11 0 001.237-.667 9.6 9.6 0 00-.308-2.573q-.482.529-1.02.968a9 9 0 00-1.304-.368c.165.63.24 1.283.232 1.935q.587.304 1.163.698zm.36 3.18a10 10 0 01-1.388.113 9 9 0 00-.788-1.11 7 7 0 00.555-1.86c.368.255.728.54 1.05.855a8 8 0 001.32-.48 9.3 9.3 0 01-.75 2.482zm-2.333 3.173c-.458-.12-.9-.278-1.328-.465v.007a8 8 0 00-.27-1.327c.503-.42.908-.938 1.268-1.478.247.39.427.78.615 1.208.45.052.937.104 1.402.09-.48.72-1.027 1.402-1.687 1.965M7.207 17.37a8 8 0 00-.27 1.328v-.008q-.641.284-1.327.465c-.66-.563-1.208-1.245-1.688-1.965.465.015.953-.03 1.403-.09.187-.428.367-.818.615-1.208.36.54.772 1.058 1.267 1.478m-2.535-1.267c.233-.39.51-.773.788-1.11a6.5 6.5 0 01-.555-1.86 8 8 0 00-1.05.855 9 9 0 01-1.32-.48c.12.862.39 1.695.75 2.482.477.067.925.112 1.387.113m.128-3.99c-.382.195-.772.435-1.162.697v.008A13 13 0 012.4 12.15a9.6 9.6 0 01.308-2.572q.482.529 1.02.967c.427-.157.87-.277 1.305-.367a7 7 0 00-.233 1.935m-.78-2.73c.442-.098.9-.15 1.342-.173a7.2 7.2 0 01.99-1.672 10 10 0 00-1.342-.195 10 10 0 01-.54-1.298A9.6 9.6 0 003.15 8.28c.27.398.555.765.87 1.103m9.02 11.536l1.345.52-.27.699L12 21.321l-2.115.817-.27-.7 1.345-.52L7.807 19.7l.27-.7L12 20.517 15.923 19l.27.7zm2.004-12.781c.033-.05.114-.033.114.033v6.76c0 .033-.098.082-.146.066-.663-.26-1.49-.588-2.391-.945a586 586 0 00-6.041-2.37c-.066-.032-.033-.131.048-.131h6.251c.379-.623.8-1.28 1.402-2.22z"
                ></path>
              </g></svg
          ></i>
        </div>
      </div>

      <div id="iftop2" class="iftop2 hidden">
        <div
          class="BadgeHolder__Holder-sc-35599fed-0 BadgeHolder__DefaultRank-sc-35599fed-4 jeOBZZ iftop2_background"
          data-testid="rankBadge"
        >
          <span
            class="Text-sc-67635c04-0 RankBadge__StyledText-sc-3a53d8df-0 jOYygD djHqlX"
            >#{{ stats.rank }}</span
          ><i
            class="Icon__Holder-sc-560359e-0 cFkIBN styles__Icon-sc-44d754f8-0 gdqhhT"
            ><svg
              viewBox="0 0 24 24"
              fill="#e80128"
              xmlns="http://www.w3.org/2000/svg"
              height="18"
              width="18"
              class="Icon__StyledISvg-sc-560359e-1 jDnejp"
            >
              <g clip-path="url(#clip0_7619_6076__quBcDJAA)">
                <path
                  d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12"
                  fill="#121212"
                ></path>
                <path
                  d="M7.042 6.773a10 10 0 00-1.297-.375l-.008-.008c-.15-.442-.255-.885-.352-1.365a9.5 9.5 0 012.1-1.515 10 10 0 00-.023 1.41c.405.21.803.458 1.155.713-.57.307-1.102.69-1.575 1.14m11.213-.375c.15-.443.255-.885.353-1.365a9.5 9.5 0 00-2.1-1.515c.037.487.052.945.022 1.41-.405.21-.795.457-1.155.712a7 7 0 011.575 1.14c.413-.15.855-.285 1.297-.375zM20.85 8.28c-.27.39-.555.758-.87 1.103-.442-.09-.9-.15-1.343-.173a7.2 7.2 0 00-.99-1.672 9 9 0 011.343-.195c.21-.413.383-.84.54-1.298.54.683.982 1.433 1.32 2.235m-.487 4.53a11 11 0 001.237-.667 9.6 9.6 0 00-.308-2.573q-.482.529-1.02.968a9 9 0 00-1.304-.368c.165.63.24 1.283.232 1.935q.587.304 1.163.698zm.36 3.18a10 10 0 01-1.388.113 9 9 0 00-.788-1.11 7 7 0 00.555-1.86c.368.255.728.54 1.05.855a8 8 0 001.32-.48 9.3 9.3 0 01-.75 2.482zm-2.333 3.173c-.458-.12-.9-.278-1.328-.465v.007a8 8 0 00-.27-1.327c.503-.42.908-.938 1.268-1.478.247.39.427.78.615 1.208.45.052.937.104 1.402.09-.48.72-1.027 1.402-1.687 1.965M7.207 17.37a8 8 0 00-.27 1.328v-.008q-.641.284-1.327.465c-.66-.563-1.208-1.245-1.688-1.965.465.015.953-.03 1.403-.09.187-.428.367-.818.615-1.208.36.54.772 1.058 1.267 1.478m-2.535-1.267c.233-.39.51-.773.788-1.11a6.5 6.5 0 01-.555-1.86 8 8 0 00-1.05.855 9 9 0 01-1.32-.48c.12.862.39 1.695.75 2.482.477.067.925.112 1.387.113m.128-3.99c-.382.195-.772.435-1.162.697v.008A13 13 0 012.4 12.15a9.6 9.6 0 01.308-2.572q.482.529 1.02.967c.427-.157.87-.277 1.305-.367a7 7 0 00-.233 1.935m-.78-2.73c.442-.098.9-.15 1.342-.173a7.2 7.2 0 01.99-1.672 10 10 0 00-1.342-.195 10 10 0 01-.54-1.298A9.6 9.6 0 003.15 8.28c.27.398.555.765.87 1.103m9.02 11.536l1.345.52-.27.699L12 21.321l-2.115.817-.27-.7 1.345-.52L7.807 19.7l.27-.7L12 20.517 15.923 19l.27.7zm2.004-12.781c.033-.05.114-.033.114.033v6.76c0 .033-.098.082-.146.066-.663-.26-1.49-.588-2.391-.945a586 586 0 00-6.041-2.37c-.066-.032-.033-.131.048-.131h6.251c.379-.623.8-1.28 1.402-2.22z"
                ></path>
              </g></svg
          ></i>
        </div>
      </div>

      <div id="iftop3" class="iftop3 hidden">
        <div
          class="BadgeHolder__Holder-sc-35599fed-0 BadgeHolder__DefaultRank-sc-35599fed-4 jeOBZZ iftop3_background"
          data-testid="rankBadge"
        >
          <span
            class="Text-sc-67635c04-0 RankBadge__StyledText-sc-3a53d8df-0 jOYygD djHqlX"
            >#{{ stats.rank }}</span
          ><i
            class="Icon__Holder-sc-560359e-0 cFkIBN styles__Icon-sc-44d754f8-0 gdqhhT"
            ><svg
              viewBox="0 0 24 24"
              fill="#e80128"
              xmlns="http://www.w3.org/2000/svg"
              height="18"
              width="18"
              class="Icon__StyledISvg-sc-560359e-1 jDnejp"
            >
              <g clip-path="url(#clip0_7619_6076__quBcDJAA)">
                <path
                  d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12"
                  fill="#121212"
                ></path>
                <path
                  d="M7.042 6.773a10 10 0 00-1.297-.375l-.008-.008c-.15-.442-.255-.885-.352-1.365a9.5 9.5 0 012.1-1.515 10 10 0 00-.023 1.41c.405.21.803.458 1.155.713-.57.307-1.102.69-1.575 1.14m11.213-.375c.15-.443.255-.885.353-1.365a9.5 9.5 0 00-2.1-1.515c.037.487.052.945.022 1.41-.405.21-.795.457-1.155.712a7 7 0 011.575 1.14c.413-.15.855-.285 1.297-.375zM20.85 8.28c-.27.39-.555.758-.87 1.103-.442-.09-.9-.15-1.343-.173a7.2 7.2 0 00-.99-1.672 9 9 0 011.343-.195c.21-.413.383-.84.54-1.298.54.683.982 1.433 1.32 2.235m-.487 4.53a11 11 0 001.237-.667 9.6 9.6 0 00-.308-2.573q-.482.529-1.02.968a9 9 0 00-1.304-.368c.165.63.24 1.283.232 1.935q.587.304 1.163.698zm.36 3.18a10 10 0 01-1.388.113 9 9 0 00-.788-1.11 7 7 0 00.555-1.86c.368.255.728.54 1.05.855a8 8 0 001.32-.48 9.3 9.3 0 01-.75 2.482zm-2.333 3.173c-.458-.12-.9-.278-1.328-.465v.007a8 8 0 00-.27-1.327c.503-.42.908-.938 1.268-1.478.247.39.427.78.615 1.208.45.052.937.104 1.402.09-.48.72-1.027 1.402-1.687 1.965M7.207 17.37a8 8 0 00-.27 1.328v-.008q-.641.284-1.327.465c-.66-.563-1.208-1.245-1.688-1.965.465.015.953-.03 1.403-.09.187-.428.367-.818.615-1.208.36.54.772 1.058 1.267 1.478m-2.535-1.267c.233-.39.51-.773.788-1.11a6.5 6.5 0 01-.555-1.86 8 8 0 00-1.05.855 9 9 0 01-1.32-.48c.12.862.39 1.695.75 2.482.477.067.925.112 1.387.113m.128-3.99c-.382.195-.772.435-1.162.697v.008A13 13 0 012.4 12.15a9.6 9.6 0 01.308-2.572q.482.529 1.02.967c.427-.157.87-.277 1.305-.367a7 7 0 00-.233 1.935m-.78-2.73c.442-.098.9-.15 1.342-.173a7.2 7.2 0 01.99-1.672 10 10 0 00-1.342-.195 10 10 0 01-.54-1.298A9.6 9.6 0 003.15 8.28c.27.398.555.765.87 1.103m9.02 11.536l1.345.52-.27.699L12 21.321l-2.115.817-.27-.7 1.345-.52L7.807 19.7l.27-.7L12 20.517 15.923 19l.27.7zm2.004-12.781c.033-.05.114-.033.114.033v6.76c0 .033-.098.082-.146.066-.663-.26-1.49-.588-2.391-.945a586 586 0 00-6.041-2.37c-.066-.032-.033-.131.048-.131h6.251c.379-.623.8-1.28 1.402-2.22z"
                ></path>
              </g></svg
          ></i>
        </div>
      </div>
    </div>

    <div class="stats">
      <div class="stat">ace: {{ stats.ace }}</div>
      <div class="stat">knife kills: {{ stats.knife_kills }}</div>
    </div>
    {% endif %}

    <script>
      setInterval(async function () {
        try {
          const response = await fetch(
            `${window.location.href}?_=${Date.now()}`
          );
          const html = await response.text();
          const newDocument = new DOMParser().parseFromString(
            html,
            "text/html"
          );
          const newStats = newDocument.querySelector(".obs-stats");

          if (newStats) {
            const currentStats = document.querySelector(".obs-stats");
            if (currentStats) {
              currentStats.innerHTML = newStats.innerHTML;
            }
          }
        } catch (err) {
          console.error("Error fetching updated stats:", err);
        }
      }, 10000);
    </script>

    <script>
      const rank = parseInt(
        document.getElementById("player_rank").dataset.rank,
        10
      );
      const blockTop1 = document.getElementById("iftop1");
      const blockTop2 = document.getElementById("iftop2");
      const blockTop3 = document.getElementById("iftop3");
      const blockTop1000 = document.getElementById("iftop1000");
      const blockAllPositions = document.getElementById("player_rank");

      if (rank <= 3) {
        if (rank === 1) {
          blockTop1.classList.remove("hidden");
        } else if (rank === 2) {
          blockTop2.classList.remove("hidden");
        } else if (rank === 3) {
          blockTop3.classList.remove("hidden");
        }
      } else if (rank <= 1000) {
        blockTop1000.classList.remove("hidden");
      } else {
        blockAllPositions.classList.remove("hidden");
      }
    </script>
  </body>
</html>
